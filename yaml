---
# Configuración principal del proyecto de libro Quarto
# Aprendizaje y Comportamiento Adaptable

project:
  type: book
  output-dir: docs  # Para GitHub Pages
  preview:
    port: 4200
    browser: true

book:
  # ========================================
  # METADATOS DEL LIBRO
  # ========================================
  title: "Aprendizaje y Comportamiento Adaptable"
  subtitle: "Fundamentos Computacionales y Modelos Formales"
  author: 
    - name: "Arturo Bouzas"
      affiliations:
        - name: "Universidad Nacional Autónoma de México"
          department: "Facultad de Psicología"
          city: "Ciudad de México"
      orcid: "0000-0000-0000-0000"  # Añadir tu ORCID real
      email: "bouzas@unam.mx"
  date: today
  date-format: "D MMMM YYYY"
  
  # Información de publicación
  doi: ""  # Añadir cuando tengas DOI
  license: "CC BY-NC-SA 4.0"
  copyright: 
    holder: "Arturo Bouzas"
    year: 2025
  
  # URLs y redes sociales
  repo-url: https://github.com/bouzaslab25/libro-aca
  repo-actions: [edit, issue]
  sharing: [twitter, facebook, linkedin]
  
  # ========================================
  # ESTRUCTURA DEL LIBRO
  # ========================================
  chapters:
    # Bloque 0: Marco Conceptual
    - index.qmd
    - part: "Bloque 0: Marco Conceptual"
      chapters:
      # - chapters/cap0_introduccion.qmd
      # - chapters/cap1_explicacion.qmd
      # - chapters/cap2_adaptabilidad.qmd
      # - chapters/cap3_seleccion_natural.qmd
    
    # Bloque I: Mecanismos Sin Historia
    - part: "Bloque I: Mecanismos Sin Historia"
      chapters:
       # - chapters/cap4_ascenso_colina.qmd
       # - chapters/cap5_retroalimentacion.qmd
    
    # Bloque II: Decisión Bajo Incertidumbre
    - part: "Bloque II: Marcos para Decisión Bajo Incertidumbre"
      chapters:
       # - chapters/cap6_deteccion_senales.qmd
       # - chapters/cap7_inferencia_bayesiana.qmd
    
    # Bloque III: Asignación de Crédito
    - part: "Bloque III: Asignación de Crédito"
      chapters:
       # - chapters/cap8_correlacion_contingencia.qmd
       # - chapters/cap9_rescorla_wagner.qmd
       # - chapters/cap10_filtros_exponenciales.qmd
       # - chapters/cap11_teoria_informacion.qmd
       # - chapters/cap12_modelos_bayesianos.qmd
    
    # Bloque IV: El Problema de la Acción
    - part: "Bloque IV: El Problema de la Acción"
      chapters:
       # - chapters/cap13_ley_efecto.qmd
       # - chapters/cap14_accion_eleccion.qmd
       # - chapters/cap15_igualacion.qmd
       # - chapters/cap16_maximizacion_local.qmd
       # - chapters/cap17_optimizacion_equilibrio.qmd
    
    # Bloque V: Aprendizaje Secuencial (Semestre II)
    - part: "Bloque V: Aprendizaje Secuencial"
      chapters:
       # - chapters/cap18_credito_temporal.qmd
       # - chapters/cap19_diferencias_temporales.qmd
       # - chapters/cap20_q_learning.qmd
       # - chapters/cap21_actor_critico.qmd
       # - chapters/cap22_exploracion_explotacion.qmd
    
    # Bloque VI: Incertidumbre y Estados Ocultos
    - part: "Bloque VI: Incertidumbre y Estados Ocultos"
      chapters:
       # - chapters/cap23_entornos_volatiles.qmd
       # - chapters/cap24_pomdps.qmd
       # - chapters/cap25_bayesianos_avanzados.qmd
       # - chapters/cap26_integracion_final.qmd
    
    # Apéndices
    - part: "Apéndices"
      chapters:
       # - appendices/apendice_a_matematicas.qmd
       # - appendices/apendice_b_probabilidad.qmd
       # - appendices/apendice_c_python.qmd
       # - appendices/apendice_d_glosario.qmd
    
    # Secciones finales
    - references.qmd
  
  # ========================================
  # ELEMENTOS DE NAVEGACIÓN
  # ========================================
  
  # Página de portada
  cover-image: images/cover.png
  favicon: images/favicon.png
  
  # Barra lateral
  sidebar:
    style: floating
    collapse-level: 2
    pinned: true
    
    # Herramientas en sidebar
    tools:
      # Botón de descarga PDF
      - icon: file-pdf
        text: "Descargar PDF"
        href: /downloads/libro_completo.pdf
      
      # Enlace a simuladores
      - icon: laptop
        text: "Simuladores"
        href: https://bouzaslab25.github.io/Material_Apoyo_ACA_I_II_III/
      
      # Repositorio GitHub
      - icon: github
        text: "Ver en GitHub"
        href: https://github.com/bouzaslab25/libro-aca
      
      # Reportar problema
      - icon: bug
        text: "Reportar Problema"
        href: https://github.com/bouzaslab25/libro-aca/issues
  
  # Página de aterrizaje
  page-navigation: true
  
  # Breadcrumbs
  bread-crumbs: true
  
  # Búsqueda
  search: 
    location: navbar
    type: overlay
    limit: 20
    collapse-after: 3
  
  # Pie de página
  page-footer:
    left: |
      © 2025 Arturo Bouzas. 
      Licencia [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)
    center: |
      Proyecto financiado por PAPIME PE309624
    right: |
      Construido con [Quarto](https://quarto.org) por [Lab25](https://www.bouzaslab25.com/)

# ========================================
# FORMATO DE SALIDA
# ========================================

format:
  # Formato HTML (principal)
  html:
    # Tema y apariencia
    theme:
      light: [cosmo, theme-light.scss]
      dark: [darkly, theme-dark.scss]
    
    # CSS personalizado
    css: 
      - styles/custom.css
      - styles/simulators.css
    
    # Opciones de código
    code-fold: false
    code-tools: 
      source: true
      toggle: true
      caption: "Ver código"
    code-overflow: wrap
    code-link: true
    code-copy: true
    code-line-numbers: true
    
    # Manejo de figuras
    fig-width: 8
    fig-height: 6
    fig-dpi: 300
    fig-align: center
    
    # Table of contents
    toc: true
    toc-depth: 3
    toc-expand: 2
    toc-title: "Contenidos"
    number-sections: true
    number-depth: 3
    
    # Referencias cruzadas
    crossref:
      fig-title: "Figura"
      tbl-title: "Tabla"
      eq-title: "Ecuación"
      sec-title: "Sección"
      fig-prefix: "Fig."
      tbl-prefix: "Tabla"
      eq-prefix: "Ec."
      sec-prefix: "Sec."
    
    # Enlaces
    link-external-icon: true
    link-external-newwindow: true
    
    # Footnotes
    reference-location: margin
    citation-location: margin
    
    # Otras opciones
    smooth-scroll: true
    anchor-sections: true
    
    # Widgets interactivos
    html-math-method: mathjax
    
    # Incluir header y footer personalizados
    include-in-header: 
      - text: |
          <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
          <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    
    # Habilitar Shinylive para simuladores Python
    filters:
      - shinylive
  
  # Formato PDF (para descarga)
  pdf:
    documentclass: book
    classoption: [oneside, openany]
    papersize: letter
    fontsize: 11pt
    geometry:
      - top=2.5cm
      - bottom=2.5cm
      - left=3cm
      - right=2.5cm
    
    # Fuentes
    mainfont: "Latin Modern Roman"
    sansfont: "Latin Modern Sans"
    monofont: "Latin Modern Mono"
    mathfont: "Latin Modern Math"
    
    # Opciones de tabla de contenidos
    toc: true
    toc-depth: 3
    number-sections: true
    
    # Manejo de figuras
    fig-pos: 'htbp'
    
    # Referencias
    link-citations: true
    colorlinks: true
    
    # PDF metadata
    pdf-engine: xelatex
    keep-tex: false
    
    # Incluir portada
    include-before-body:
      - tex/portada.tex
    
    # Headers/Footers
    include-in-header:
      - tex/preamble.tex

# ========================================
# BIBLIOGRAFÍA
# ========================================

bibliography: 
  - references/bibliografia.bib
  - references/bibliografia_computacional.bib
  - references/bibliografia_neurociencia.bib

csl: references/apa.csl  # Estilo APA 7

# ========================================
# CONFIGURACIÓN DE EJECUCIÓN
# ========================================

execute:
  freeze: auto  # Solo re-ejecuta si el archivo cambió
  cache: true
  echo: true    # Mostrar código por defecto
  warning: false
  message: false
  error: false
  
# Entorno Python
jupyter: python3

# ========================================
# IDIOMA
# ========================================

language:
  title-block-author-single: "Autor"
  title-block-author-plural: "Autores"
  title-block-affiliation-single: "Afiliación"
  title-block-affiliation-plural: "Afiliaciones"
  title-block-published: "Publicado"
  title-block-modified: "Modificado"
  appendix-attribution-cite-as: "Citar como"
  section-title-abstract: "Resumen"
  section-title-references: "Referencias"
  section-title-appendices: "Apéndices"
  contents: "Contenidos"
  toc-title-document: "En esta página"
  toc-title-website: "Contenidos"
  page-navigation-previous: "Anterior"
  page-navigation-next: "Siguiente"
  
# ========================================
# METADATOS ADICIONALES
# ========================================

keywords:
  - Aprendizaje
  - Comportamiento Adaptable
  - Neurociencia Computacional
  - Machine Learning
  - Aprendizaje por Refuerzo
  - Psicología Experimental

description: |
  Libro de texto interactivo sobre los fundamentos computacionales del 
  aprendizaje y comportamiento adaptable. Integra psicología del aprendizaje, 
  neurociencia computacional y machine learning con simuladores interactivos.

abstract: |
  Este libro ofrece una introducción rigurosa pero accesible a los principios 
  computacionales del aprendizaje y comportamiento adaptable. A diferencia de 
  textos tradicionales organizados por paradigmas experimentales, este libro 
  se estructura alrededor de problemas adaptativos y sus soluciones algorítmicas. 
  Integra marcos de explicación multinivel (Marr, Tinbergen, Killeen), modelos 
  de optimización, algoritmos de aprendizaje, e implementaciones computacionales. 
  Cada capítulo incluye simuladores interactivos que permiten experimentación 
  directa con los modelos presentados.
